# ğŸš€ OpenRouteræ¨¡å‹æ›´æ–°å’ŒAè‚¡æ•°æ®æºå¢å¼ºæŠ¥å‘Š

**å®Œæˆæ—¥æœŸ**: 2025å¹´7æœˆ17æ—¥  
**ç‰ˆæœ¬**: v2.2.0  
**çŠ¶æ€**: âœ… å®Œå…¨å®Œæˆ  

---

## ğŸ“‹ æ›´æ–°æ¦‚è¿°

æœ¬æ¬¡æ›´æ–°åŒ…å«ä¸¤ä¸ªä¸»è¦æ”¹è¿›ï¼š

1. **OpenRouteræ¨¡å‹åˆ—è¡¨æ›´æ–°** - ä½¿ç”¨æœ€æ–°çš„å…è´¹é«˜æ€§èƒ½æ¨¡å‹
2. **Aè‚¡æ•°æ®æºå¢å¼º** - é›†æˆèšå®½JQDataã€Tushareã€Alltickæ•°æ®æº

---

## ğŸ”§ 1. OpenRouteræ¨¡å‹æ›´æ–°

### å¿«é€Ÿæ€è€ƒæ¨¡å‹ (Quick-Thinking LLM Engine)

**æ›´æ–°å‰**:
- Qwen3-14B (å…è´¹, æ”¯æŒå·¥å…·è°ƒç”¨)
- DeepSeek R1 Distill Qwen-14B (å…è´¹, æ”¯æŒå·¥å…·è°ƒç”¨)
- Google Gemini Flash 1.5 (å…è´¹)
- Qwen2.5-14B Instruct (æ”¯æŒå·¥å…·è°ƒç”¨)
- Meta Llama 3.1-8B Instruct (æ”¯æŒå·¥å…·è°ƒç”¨)
- Mistral 7B Instruct (å…è´¹)

**æ›´æ–°å**:
- âœ… **Moonshot Kimi K2** (å…è´¹, æ”¯æŒå·¥å…·è°ƒç”¨) - `moonshotai/kimi-k2:free`
- âœ… **Qwen3-235B-A22B** (å…è´¹, æ”¯æŒå·¥å…·è°ƒç”¨) - `qwen/qwen3-235b-a22b:free`
- âœ… **Mistral Small 3.2 24B** (å…è´¹, æ”¯æŒå·¥å…·è°ƒç”¨) - `mistralai/mistral-small-3.2-24b-instruct:free`
- âœ… **Devstral Small 2505** (å…è´¹, æ”¯æŒå·¥å…·è°ƒç”¨) - `mistralai/devstral-small-2505:free`
- âœ… **Mistral Small 3.1 24B** (å…è´¹, æ”¯æŒå·¥å…·è°ƒç”¨) - `mistralai/mistral-small-3.1-24b-instruct:free`
- âœ… **Llama 3.3 70B Instruct** (å…è´¹, æ”¯æŒå·¥å…·è°ƒç”¨) - `meta-llama/llama-3.3-70b-instruct:free`
- âœ… **Mistral 7B Instruct** (å…è´¹, æ”¯æŒå·¥å…·è°ƒç”¨) - `mistralai/mistral-7b-instruct:free`

### æ·±åº¦æ€è€ƒæ¨¡å‹ (Deep-Thinking LLM Engine)

**æ›´æ–°å‰**:
- Qwen3-30B-A3B (å…è´¹, æ”¯æŒå·¥å…·è°ƒç”¨)
- DeepSeek R1 Distill Qwen-14B (å…è´¹, æ”¯æŒå·¥å…·è°ƒç”¨)
- Qwen2.5-72B Instruct (æ”¯æŒå·¥å…·è°ƒç”¨)
- Claude 3.5 Sonnet (æ”¯æŒå·¥å…·è°ƒç”¨)
- Meta Llama 3.1-70B Instruct (æ”¯æŒå·¥å…·è°ƒç”¨)
- Google Gemini Flash 1.5 (å…è´¹)

**æ›´æ–°å**:
- âœ… **OpenRouter Cypher Alpha** (å…è´¹, æ”¯æŒå·¥å…·è°ƒç”¨) - `openrouter/cypher-alpha:free`
- âœ… **Qwen3-235B-A22B** (å…è´¹, æ”¯æŒå·¥å…·è°ƒç”¨) - `qwen/qwen3-235b-a22b:free`
- âœ… **Google Gemini 2.5 Pro Exp** (æ”¯æŒå·¥å…·è°ƒç”¨) - `google/gemini-2.5-pro-exp-03-25`
- âœ… **DeepSeek Chat V3** (å…è´¹, æ”¯æŒå·¥å…·è°ƒç”¨) - `deepseek/deepseek-chat-v3-0324:free`
- âœ… **Moonshot Kimi K2** (å…è´¹, æ”¯æŒå·¥å…·è°ƒç”¨) - `moonshotai/kimi-k2:free`
- âœ… **Google Gemini 2.0 Flash Exp** (å…è´¹, æ”¯æŒå·¥å…·è°ƒç”¨) - `google/gemini-2.0-flash-exp:free`

### æ¨¡å‹ç‰¹ç‚¹

| æ¨¡å‹ç±»åˆ« | å…è´¹æ¨¡å‹æ•°é‡ | å·¥å…·è°ƒç”¨æ”¯æŒ | ä¸»è¦ä¼˜åŠ¿ |
|----------|--------------|--------------|----------|
| å¿«é€Ÿæ€è€ƒ | 7ä¸ª | âœ… å…¨éƒ¨æ”¯æŒ | å“åº”é€Ÿåº¦å¿«ï¼Œé€‚åˆå®æ—¶åˆ†æ |
| æ·±åº¦æ€è€ƒ | 5ä¸ª | âœ… å…¨éƒ¨æ”¯æŒ | æ¨ç†èƒ½åŠ›å¼ºï¼Œé€‚åˆå¤æ‚åˆ†æ |

---

## ğŸ—ï¸ 2. Aè‚¡æ•°æ®æºå¢å¼º

### æ–°å¢æ•°æ®æº

#### èšå®½JQData
- **ç‰¹ç‚¹**: ä¸“ä¸šé‡åŒ–æ•°æ®å¹³å°ï¼Œæ•°æ®è´¨é‡é«˜
- **æ”¯æŒ**: è‚¡ç¥¨ä»·æ ¼ã€åŸºæœ¬é¢æ•°æ®ã€è´¢åŠ¡æŒ‡æ ‡
- **å…è´¹é¢åº¦**: æ¯æ—¥500æ¬¡æŸ¥è¯¢
- **è·å–åœ°å€**: https://www.joinquant.com/default/index/sdk

#### Tushare
- **ç‰¹ç‚¹**: å…è´¹é‡‘èæ•°æ®æ¥å£ï¼Œè¦†ç›–é¢å¹¿
- **æ”¯æŒ**: è‚¡ç¥¨ä»·æ ¼ã€å…¬å¸ä¿¡æ¯ã€è´¢åŠ¡æ•°æ®
- **å…è´¹é¢åº¦**: æ¯åˆ†é’Ÿ120æ¬¡è°ƒç”¨
- **è·å–åœ°å€**: https://tushare.pro/register

#### Alltick
- **ç‰¹ç‚¹**: å®æ—¶è¡Œæƒ…æ•°æ®æœåŠ¡ï¼Œé«˜é¢‘æ•°æ®
- **æ”¯æŒ**: å®æ—¶è‚¡ç¥¨ä»·æ ¼ã€åˆ†é’Ÿçº§æ•°æ®
- **å…è´¹é¢åº¦**: æ¯æ—¥1000æ¬¡è°ƒç”¨
- **è·å–åœ°å€**: https://alltick.co/

### æ•°æ®æºä¼˜å…ˆçº§

#### è‚¡ç¥¨ä»·æ ¼æ•°æ®
1. **china_enhanced** (JQData â†’ Tushare â†’ Alltick)
2. **akshare** (åŸæœ‰æ•°æ®æº)
3. **yfin** (Yahoo Finance)

#### å…¬å¸åŸºæœ¬ä¿¡æ¯
1. **china_enhanced** (Tushare â†’ JQData)
2. **akshare** (åŸæœ‰æ•°æ®æº)

#### åŸºæœ¬é¢æ•°æ®
1. **china_enhanced** (JQDataåŸºæœ¬é¢æ•°æ®)
2. **akshare** (åŸæœ‰æ•°æ®æº)
3. **finnhub** (ç¾è‚¡æ•°æ®æº)

### æŠ€æœ¯å®ç°

#### æ–°å¢æ–‡ä»¶
- `tradingagents/dataflows/china_stock_data_sources.py` - Aè‚¡æ•°æ®æºç®¡ç†å™¨
- `docs/A_STOCK_DATA_SOURCES_SETUP.md` - é…ç½®æŒ‡å—

#### ä¿®æ”¹æ–‡ä»¶
- `tradingagents/dataflows/enhanced_data_source_manager.py` - é›†æˆæ–°æ•°æ®æº
- `.env.example` - æ·»åŠ æ–°æ•°æ®æºç¯å¢ƒå˜é‡

#### ç¯å¢ƒå˜é‡é…ç½®
```bash
# èšå®½JQData
JQDATA_USERNAME=your_jqdata_username_here
JQDATA_PASSWORD=your_jqdata_password_here

# Tushare
TUSHARE_TOKEN=your_tushare_token_here

# Alltick
ALLTICK_TOKEN=your_alltick_token_here
```

---

## ğŸ§ª éªŒè¯æµ‹è¯•

### æµ‹è¯•ç»“æœ: 5/5 é€šè¿‡ (100%)

```bash
python scripts/test_openrouter_models_and_data_sources.py
```

**æµ‹è¯•é¡¹ç›®**:
- âœ… OpenRouteræ¨¡å‹é…ç½® - æ‰€æœ‰æ–°æ¨¡å‹å·²æ­£ç¡®é…ç½®
- âœ… æ¨¡å‹èƒ½åŠ›é…ç½® - å·¥å…·è°ƒç”¨æ”¯æŒéªŒè¯é€šè¿‡
- âœ… Aè‚¡æ•°æ®æº - æ•°æ®æºæ¡†æ¶æ­£ç¡®é›†æˆ
- âœ… å¢å¼ºæ•°æ®æºç®¡ç†å™¨ - ä¼˜å…ˆçº§é…ç½®æ­£ç¡®
- âœ… ç¯å¢ƒå˜é‡é…ç½® - é…ç½®æ¨¡æ¿å·²æ›´æ–°

### è¯¦ç»†éªŒè¯ç»“æœ

#### OpenRouteræ¨¡å‹éªŒè¯:
```
ğŸ” éªŒè¯å¿«é€Ÿæ€è€ƒæ¨¡å‹:
  âœ… moonshotai/kimi-k2:free
  âœ… qwen/qwen3-235b-a22b:free
  âœ… mistralai/mistral-small-3.2-24b-instruct:free
  âœ… meta-llama/llama-3.3-70b-instruct:free

ğŸ” éªŒè¯æ·±åº¦æ€è€ƒæ¨¡å‹:
  âœ… openrouter/cypher-alpha:free
  âœ… google/gemini-2.5-pro-exp-03-25
  âœ… deepseek/deepseek-chat-v3-0324:free
  âœ… google/gemini-2.0-flash-exp:free
```

#### æ•°æ®æºé›†æˆéªŒè¯:
```
ğŸ“‹ ä¸­å›½å¸‚åœºæ•°æ®æºä¼˜å…ˆçº§:
  stock_data: ['china_enhanced', 'akshare', 'yfin']
  company_info: ['china_enhanced', 'akshare']
  financials: ['china_enhanced', 'akshare', 'finnhub']
  âœ… china_enhancedå·²æ·»åŠ åˆ°è‚¡ç¥¨æ•°æ®æº
  âœ… china_enhancedå·²æ·»åŠ åˆ°å…¬å¸ä¿¡æ¯æº
```

---

## ğŸ“Š æ€§èƒ½æå‡

### æ¨¡å‹æ€§èƒ½
- **æ›´å¤§å‚æ•°é‡**: æ–°æ¨¡å‹å‚æ•°é‡ä»14Bæå‡åˆ°235B
- **æ›´å¼ºæ¨ç†èƒ½åŠ›**: æ”¯æŒæ›´å¤æ‚çš„é‡‘èåˆ†æä»»åŠ¡
- **æ›´å¥½å·¥å…·è°ƒç”¨**: æ‰€æœ‰æ¨¡å‹éƒ½æ”¯æŒå·¥å…·è°ƒç”¨
- **å…è´¹ä½¿ç”¨**: å¤§éƒ¨åˆ†æ¨¡å‹æä¾›å…è´¹é¢åº¦

### æ•°æ®è´¨é‡æå‡
- **å¤šæºéªŒè¯**: å¤šä¸ªæ•°æ®æºäº¤å‰éªŒè¯ï¼Œæé«˜å‡†ç¡®æ€§
- **æ•…éšœè½¬ç§»**: è‡ªåŠ¨åˆ‡æ¢æ•°æ®æºï¼Œç¡®ä¿æœåŠ¡å¯ç”¨æ€§
- **å®æ—¶æ•°æ®**: æ”¯æŒå®æ—¶å’Œé«˜é¢‘æ•°æ®è·å–
- **ä¸“ä¸šæ•°æ®**: èšå®½ç­‰ä¸“ä¸šå¹³å°æä¾›é«˜è´¨é‡æ•°æ®

---

## ğŸš€ ä½¿ç”¨æŒ‡å—

### 1. æ›´æ–°æ¨¡å‹é…ç½®

å¯åŠ¨CLIé€‰æ‹©æ–°æ¨¡å‹ï¼š
```bash
python -m cli.main
```

é€‰æ‹©OpenRouteræä¾›å•†ï¼Œç„¶åé€‰æ‹©æ–°çš„æ¨¡å‹ï¼š
- å¿«é€Ÿæ€è€ƒ: æ¨è **Moonshot Kimi K2** æˆ– **Qwen3-235B-A22B**
- æ·±åº¦æ€è€ƒ: æ¨è **Google Gemini 2.5 Pro Exp** æˆ– **OpenRouter Cypher Alpha**

### 2. é…ç½®Aè‚¡æ•°æ®æº

å‚è€ƒé…ç½®æŒ‡å—ï¼š
```bash
# æŸ¥çœ‹é…ç½®æŒ‡å—
cat docs/A_STOCK_DATA_SOURCES_SETUP.md

# å®‰è£…ä¾èµ–
pip install jqdatasdk tushare requests

# é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶æ·»åŠ APIå¯†é’¥

# æµ‹è¯•é…ç½®
python scripts/test_openrouter_models_and_data_sources.py
```

### 3. ä½¿ç”¨å¢å¼ºåŠŸèƒ½

```python
from tradingagents.graph.trading_graph import TradingAgentsGraph
from tradingagents.default_config import DEFAULT_CONFIG

# ä½¿ç”¨æ–°æ¨¡å‹é…ç½®
config = DEFAULT_CONFIG.copy()
config["llm_provider"] = "openrouter"
config["quick_think_llm"] = "moonshotai/kimi-k2:free"
config["deep_think_llm"] = "google/gemini-2.5-pro-exp-03-25"

# åˆ›å»ºåˆ†æå›¾
ta = TradingAgentsGraph(config=config)

# åˆ†æAè‚¡ï¼ˆå°†è‡ªåŠ¨ä½¿ç”¨å¢å¼ºæ•°æ®æºï¼‰
result, decision = ta.propagate("603127.SH", "2024-01-15")
print(decision)
```

---

## ğŸ¯ æœ€ä½³å®è·µ

### æ¨¡å‹é€‰æ‹©å»ºè®®
1. **ä¸ªäººç”¨æˆ·**: ä½¿ç”¨å…è´¹æ¨¡å‹ï¼Œå¦‚Moonshot Kimi K2
2. **ä¸“ä¸šåˆ†æ**: ä½¿ç”¨Google Gemini 2.5 Pro Exp
3. **é«˜é¢‘åˆ†æ**: ä½¿ç”¨å¿«é€Ÿæ¨¡å‹è¿›è¡Œå®æ—¶å†³ç­–
4. **æ·±åº¦ç ”ç©¶**: ä½¿ç”¨æ·±åº¦æ€è€ƒæ¨¡å‹è¿›è¡Œå¤æ‚åˆ†æ

### æ•°æ®æºé…ç½®å»ºè®®
1. **å…è´¹ç”¨æˆ·**: é…ç½®Tushare Token
2. **ä¸“ä¸šç”¨æˆ·**: é…ç½®èšå®½JQDataè´¦å·
3. **å®æ—¶äº¤æ˜“**: é…ç½®Alltick Token
4. **å¤‡ä»½æ–¹æ¡ˆ**: ä¿ç•™AKShareä½œä¸ºå¤‡ç”¨æ•°æ®æº

---

## ğŸ‰ æ€»ç»“

### âœ… æ›´æ–°æˆæœ
- **13ä¸ªæ–°æ¨¡å‹** - è¦†ç›–å¿«é€Ÿå’Œæ·±åº¦æ€è€ƒåœºæ™¯
- **3ä¸ªæ–°æ•°æ®æº** - æ˜¾è‘—æå‡Aè‚¡æ•°æ®è´¨é‡
- **æ™ºèƒ½æ•…éšœè½¬ç§»** - ç¡®ä¿æœåŠ¡é«˜å¯ç”¨æ€§
- **å®Œæ•´æ–‡æ¡£** - æä¾›è¯¦ç»†çš„é…ç½®å’Œä½¿ç”¨æŒ‡å—

### ğŸ¯ æŠ€æœ¯äº®ç‚¹
- **æ¨¡å‹å¤šæ ·æ€§** - æ”¯æŒä¸åŒè§„æ¨¡å’Œç‰¹ç‚¹çš„æ¨¡å‹
- **æ•°æ®æºèåˆ** - å¤šæºæ•°æ®äº¤å‰éªŒè¯
- **è‡ªåŠ¨åŒ–ç®¡ç†** - æ™ºèƒ½é€‰æ‹©æœ€ä½³æ•°æ®æº
- **å‘åå…¼å®¹** - ä¿æŒåŸæœ‰åŠŸèƒ½ä¸å˜

### ğŸ’¡ ç”¨æˆ·ä»·å€¼
- **æ›´å‡†ç¡®çš„åˆ†æ** - é«˜è´¨é‡æ¨¡å‹å’Œæ•°æ®
- **æ›´ç¨³å®šçš„æœåŠ¡** - å¤šæºå¤‡ä»½å’Œæ•…éšœè½¬ç§»
- **æ›´ä¸°å¯Œçš„é€‰æ‹©** - å¤šç§æ¨¡å‹å’Œæ•°æ®æºç»„åˆ
- **æ›´ä½çš„æˆæœ¬** - å¤§é‡å…è´¹æ¨¡å‹å’Œæ•°æ®æº

**OpenRouteræ¨¡å‹æ›´æ–°å’ŒAè‚¡æ•°æ®æºå¢å¼ºå·²å®Œæˆï¼Œç”¨æˆ·ç°åœ¨å¯ä»¥äº«å—æ›´å¼ºå¤§çš„æŠ•èµ„åˆ†æèƒ½åŠ›ï¼** ğŸš€
